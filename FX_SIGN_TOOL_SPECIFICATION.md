# FXサインツール 仕様書

## 1. プロジェクト概要

### 1.1 サービス名
FX Sign Tool - 東京時間特化型サインツール

### 1.2 目的
- ドル円デイトレードでの高勝率サイン提供
- 東京時間（9:00-11:00）に特化したロジック実装
- 将来的なパターン分析機能による予測精度向上

### 1.3 対象ユーザー
- デイトレーダー
- 東京時間での取引を行うFXトレーダー

## 2. 段階的開発計画

### Phase 1：基本機能実装
- Tokyo Opening Range Breakout (TORB) ロジック
- リアルタイムチャート表示
- 基本サイン機能

### Phase 2：パターン分析機能
- 過去データパターン抽出
- 類似パターン検索
- 確率的予想表示

### Phase 3：拡張機能
- 他時間帯対応（ロンドン・NY時間）
- 複数通貨ペア対応
- バックテスト機能

## 3. 基本仕様

### 3.1 対象通貨ペア
- 初期：USD/JPY（ドル円）のみ
- 将来：主要通貨ペア追加予定

### 3.2 取引時間
- **メイン対象**：東京時間 9:00-11:00 (JST)
- **時間足**：15分足（メイン）、5分足（補助）

### 3.3 データソース
- FX価格データAPI（OANDA/Alpha Vantage等）
- リアルタイムまたは1分更新

## 4. Phase 1: TORB機能仕様

### 4.1 Tokyo Opening Range Breakout ロジック

#### 基本戦略
1. **レンジ設定期間**：9:00-9:45
2. **取引期間**：9:45-11:00
3. **基準**：15分足チャート

#### エントリー条件

**ロングサイン：**
- 9:45以降、レンジ高値突破
- 5分足RSI > 55かつ上昇中
- 前日NYクローズより上位
- 利確目標：突破幅の1.5倍
- 損切り：レンジ下限-5pips

**ショートサイン：**
- 9:45以降、レンジ安値下抜け
- 5分足RSI < 45かつ下降中
- 前日NYクローズより下位
- 利確目標：突破幅の1.5倍
- 損切り：レンジ上限+5pips

#### フィルター条件
- レンジ幅：15pips以上50pips以下
- 前日ボラティリティ：80pips以下
- 経済指標発表前後30分は取引停止

### 4.2 表示機能
- リアルタイムローソク足チャート
- サインアロー表示（買い↑/売り↓）
- レンジライン表示
- 利確・損切りライン表示

## 5. Phase 2: パターン分析機能仕様

### 5.1 データ蓄積
- 過去3年分の15分足データ保存
- 9:00-11:00の値動きパターンをDB保存
- 特徴量：高値・安値・終値比率、RSI推移等

### 5.2 パターンマッチング
- DTW（Dynamic Time Warping）アルゴリズム使用
- 相関係数による類似度計算
- 直近10営業日vs過去データ照合

### 5.3 予想機能
- 類似度上位5パターン分析
- 確率的予想（上昇○%、下落○%）
- 想定値幅と到達時間予測
- 信頼度スコア表示

### 5.4 表示例
```
類似パターン検出:
- 2024/3/15 (類似度: 92%)
- 2023/8/22 (類似度: 89%)
予想: 11:00まで +25pips (確率: 75%)
信頼度: ★★★★☆
```

## 6. 技術仕様

### 6.1 フロントエンド
- **言語**：JavaScript/TypeScript
- **フレームワーク**：React または Vue.js
- **チャートライブラリ**：Chart.js または TradingView

### 6.2 バックエンド
- **言語**：Node.js/Python
- **API**：REST API
- **リアルタイム通信**：WebSocket

### 6.3 データベース
- **価格データ**：PostgreSQL/MongoDB
- **パターンデータ**：時系列データ対応DB

### 6.4 外部API
- FX価格データ取得API
- 経済指標カレンダーAPI

## 7. UI/UX仕様

### 7.1 メイン画面
- チャート表示エリア（70%）
- サイン情報パネル（20%）
- 設定パネル（10%）

### 7.2 機能
- サイン音設定
- アラート機能
- 履歴表示
- 勝率統計表示

## 8. 非機能要件

### 8.1 パフォーマンス
- チャート更新：1秒以内
- サイン判定：5秒以内
- データ取得遅延：最大30秒

### 8.2 セキュリティ
- API キー管理
- HTTPS通信
- レート制限対応

## 9. 開発スケジュール

### Phase 1 (4-6週間)
1. 環境構築・API設定
2. チャート基本機能
3. TORB ロジック実装
4. UI/UX実装
5. テスト・デバッグ

### Phase 2 (6-8週間)
1. データ蓄積機能
2. パターン分析アルゴリズム
3. 類似度計算機能
4. 予想機能実装
5. 統合テスト

### Phase 3 (4-6週間)
1. 他時間帯対応
2. 通貨ペア追加
3. バックテスト機能
4. 最終テスト・リリース

## 10. 成功指標

- **Phase 1目標**：TORB勝率70%以上
- **Phase 2目標**：パターン分析による勝率向上5%以上
- **最終目標**：総合勝率75%以上、月間利益率10%以上